<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>{% if page.title %}{{ page.title }} - {% endif %}{{ site.title }}</title>
    <style>
        body {
            font-family: 'Courier New', Courier, monospace;
            max-width: 80ch;
            margin: 2em auto;
            padding: 0 1em;
            line-height: 1.6;
            background: white;
            color: black;
        }
        a {
            color: blue;
            text-decoration: underline;
        }
        a:visited {
            color: purple;
        }
        pre {
            background: #f4f4f4;
            padding: 1em;
            overflow-x: auto;
        }
        footer {
            text-align: center;
            font-size: 0.6em;
        }
        .tooltip {
            position: relative;
            cursor: help;
            text-decoration: underline dotted;
        }
        .tooltip::after {
            content: attr(data-tooltip);
            position: absolute;
            top: 100%;
            left: 50%;
            transform: translateX(-50%);
            padding: 0.8em;
            background: #333;
            color: #fff;
            border-radius: 4px;
            white-space: normal;
            width: 40ch;
            max-width: 90vw;
            font-size: 0.85em;
            line-height: 1.4;
            opacity: 0;
            pointer-events: none;
            transition: opacity 0.3s;
            z-index: 1000;
            margin-top: 0.5em;
        }
        .tooltip:hover::after {
            opacity: 1;
        }
    </style>
</head>
<body>
    <header>
        <h1><a href="/">{{ site.title }}</a></h1>
        <p>{{ site.description }}</p>
        <p>
            <em><span class="tooltip" data-tooltip='"El trabajo es la primera virtud. Expresión de tradición estoica y cristiana que exalta el valor del esfuerzo como base del carácter moral. Popularizada en la Edad Media bajo el ideal monástico del ora et labora, representa la dignidad del trabajo como fuente de virtud." Cita contextual: Regla de San Benito (s. VI), cap. 48; véase también Cicerón, De Officiis (sobre disciplina y deber).'>Labor prima virtus</span>. <span class="tooltip" data-tooltip='"Los pactos deben cumplirse. Principio fundamental del Derecho (romano, canónico y moderno) y pilar del Derecho Internacional contemporáneo: los acuerdos válidos obligan a las partes y deben cumplirse de buena fe." Citas: Convención de Viena sobre el Derecho de los Tratados (1969), art. 26; Oppenheim, International Law, vol. I (principio de la obligatoriedad de los tratados).'>Pacta sunt servanda</span></em>
        </p>
        <nav>
            <a href="/">Inicio</a> |
            <a href="/archivo/">Archivo</a>
        </nav>
        <hr>
    </header>

    <main>
        {{ content }}
    </main>

    <footer>
        <hr>
        <p>© 2025 Repositorio Informático | <span id="tiempo-activo"></span></p>
    </footer>
    <script>
        function calcularTiempoActivo() {
            const fechaInicio = new Date(2025, 9, 4); // Mes 9 = octubre (los meses empiezan en 0)
            const fechaActual = new Date();

            let años = fechaActual.getFullYear() - fechaInicio.getFullYear();
            let meses = fechaActual.getMonth() - fechaInicio.getMonth();
            let días = fechaActual.getDate() - fechaInicio.getDate();

            // Ajustar si los días son negativos
            if (días < 0) {
                meses--;
                const mesAnterior = new Date(fechaActual.getFullYear(), fechaActual.getMonth(), 0);
                días += mesAnterior.getDate();
            }

            // Ajustar si los meses son negativos
            if (meses < 0) {
                años--;
                meses += 12;
            }

            // Construir el texto
            let partes = [];
            if (años > 0) partes.push(`${años} año${años !== 1 ? 's' : ''}`);
            if (meses > 0) partes.push(`${meses} mes${meses !== 1 ? 'es' : ''}`);
            if (días > 0 || partes.length === 0) partes.push(`${días} día${días !== 1 ? 's' : ''}`);

            document.getElementById('tiempo-activo').textContent = partes.join(', ') + ' en línea';
        }

        calcularTiempoActivo();
    </script>
</body>
</html>
